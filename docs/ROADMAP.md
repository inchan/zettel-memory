# 프로젝트 로드맵

> 프로젝트: **Memory MCP (Olima + Basic-Memory + Zettelkasten + PARA)**
> 기준일: 2025-09-26
> 업데이트: 2025-09-27 (주요 구현 완료)

## 📋 전체 구조

```markdown
E1. MCP서버코어 ✅ (구현 완료)
├── 1 _프로토콜CLI ✅
│   ├── 1 툴/명령 스키마 정의 ✅ (Zod 스키마, 툴 레지스트리)
│   └── 2 에러/재시도/타임아웃 정책 ✅ (execution-policy)
├── 2 _설정관리 ✅
│   ├── 1 환경변수/CLI 옵션/파일 설정 병합 ✅ (CLI 구현)
│   └── 2 프로파일(개발/운영) ✅ (헬스체크 포함)
├── 3 _오류처리 ✅
│   ├── 1 표준 에러코드 테이블 ✅ (MemoryMcpError)
│   └── 2 재시도/폴백 전략 ✅ (withExecutionPolicy)

E2. 저장소(Markdown/PARA) ✅ (구현 완료)
├── 1 _파일스키마 ✅
│   ├── 1 Front Matter 스키마 ✅ (Zod + gray-matter)
│   └── 2 필수/선택 필드 유효성 ✅ (런타임 검증)
├── 2 _워처동기화 ✅
│   ├── 1 chokidar로 파일 변경 탐지 ✅ (VaultWatcher)
│   └── 2 Git 스냅샷/백업 훅 ✅ (자동 커밋/롤백 지원)
├── 3 _보안보강 ✅
│   ├── 1 민감정보 마스킹 ✅ (maskSensitiveInfo)
│   └── 2 원자적 쓰기/리커버리 ✅ (atomicWriteFile)

E3. 인덱싱&검색 ✅ (구현 완료)
├── 1 _텍스트인덱스FTS ✅
│   ├── 1 SQLite FTS5 통합 ✅ (FtsSearchEngine)
│   └── 2 증분 색인/배치 색인 ✅ (배치 인덱싱)
├── 2 _링크그래프 ✅
│   ├── 1 [[링크]] 파싱/백링크 ✅ (LinkGraphManager)
│   └── 2 연결 중심 탐색 API ✅ (findConnectedNotes)
├── 3 _쿼리DSL ✅
│   ├── 1 키워드/태그/범위 필터 ✅ (SearchOptions)
│   └── 2 정렬/랭킹 정책 ✅ (FTS + 링크 점수 결합)

E4. 연상엔진(Olima) 🔄 (기본 구조)
├── 1 _연관추천 🔄
│   ├── 1 키워드+링크 후보 생성 🔄
│   └── 2 점수화/리랭킹 🔄
├── 2 _세션컨텍스트 🔄
│   ├── 1 프로젝트/주제 키 관리 🔄
│   └── 2 우선순위 정렬 규칙 🔄
├── 3 _리플렉션 🔄
│   ├── 1 세션 요약/장기화 🔄
│   └── 2 중복/충돌 정리 🔄

E5. 링킹(Zettelkasten) ✅ (구현 완료)
├── 1 _링크파서 ✅
│   ├── 1 [[...]]/UID 링크 파싱 ✅ (parseMarkdownLinks)
│   └── 2 제목/UID 동시 지원 ✅ (findNoteByUid)
├── 2 _백링크관리 ✅
│   ├── 1 역참조 인덱스 ✅ (BacklinkManager)
│   └── 2 링크 무결성 검사 ✅ (brokenLinks 탐지)
├── 3 _고아노트 ✅
│   ├── 1 고아노트 찾기 ✅ (findOrphanNotes)
│   └── 2 자동 연결 제안 ✅ (connectedNotes API)

E6. 배포/패키징 🔄 (부분 구현)
├── 1 _npm_npx ✅
│   ├── 1 package.json bin/옵션 ✅ (memory-mcp CLI)
│   └── 2 SemVer/릴리즈 노트 🔄
├── 2 _Docker 🔄
│   ├── 1 경량 베이스 이미지 🔄
│   └── 2 볼륨 마운트(로컬 Vault) 🔄
├── 3 _CI_CD 🔄
│   ├── 1 릴리즈 파이프라인 🔄
│   └── 2 보안 스캔/라이선스 체크 🔄
```

### 🎖️ 범례
- ✅ **구현 완료**: 모든 기능이 동작하며 테스트됨
- 🔄 **부분 구현**: 기본 구조 있음, 추가 개발 필요
- ⭕ **미구현**: 아직 시작되지 않음

## 🎯 에픽별 목표

### Epic E1. MCP서버코어
MCP 프로토콜 서버와 CLI를 제공하여 에이전트(Claude 등)에서 npx로 즉시 연동

### Epic E2. 저장소(Markdown/PARA)
Markdown + YAML Front Matter 기반 로컬 영구 저장. PARA 폴더 체계 준수

### Epic E3. 인덱싱&검색
FTS(전문검색) + 링크/태그 그래프 인덱스 + 쿼리 DSL 제공

### Epic E4. 연상엔진(Olima)
세션 문맥/주제 기반 연상 검색과 자동 추천/리플렉션

### Epic E5. 링킹(Zettelkasten)
UID/백링크/고아노트 탐지로 지식 네트워크 유지

### Epic E6. 배포/패키징
npm 패키지 배포(npx 실행), Docker 이미지, CI/CD 자동화

## 🏆 현재 상태 요약 (2025-09-27)

### ✅ 완전 구현된 에픽 (4/6)
1. **E1. MCP서버코어**: MCP 프로토콜 서버, CLI, 툴 레지스트리 완료
2. **E2. 저장소(Markdown/PARA)**: 파일 관리, 백링크, PARA 구조 완료
3. **E3. 인덱싱&검색**: FTS + 링크 그래프 하이브리드 검색 완료
4. **E5. 링킹(Zettelkasten)**: 백링크 관리, 고아노트 탐지 완료

### 🔄 진행 중인 에픽 (2/6)
1. **E4. 연상엔진(Olima)**: 기본 구조만 구현, 고급 기능 개발 필요
2. **E6. 배포/패키징**: CLI 완료, Docker/CI-CD 추가 개발 필요

### 🎯 주요 달성 사항
- **완전 동작하는 MCP 서버**: Claude 등 에이전트에서 즉시 사용 가능
- **실제 검색 기능**: 키워드, 카테고리, 태그 필터링 지원
- **자동 백링크 관리**: 파일 변경 시 실시간 동기화
- **원자적 파일 쓰기**: 데이터 손실 방지
- **PARA 구조 관리**: 자동 카테고리 분류 및 아카이브
- **MCP 검색 툴 안정화**: `createDefaultSearchEngine` 팩토리로 search_memory 툴 즉시 사용 가능
- **구성 신뢰성 향상**: CLI에서 지정한 인덱스 경로와 실행 정책 재정의가 테스트로 검증됨

### 🚀 즉시 사용 가능한 기능
```bash
# 설치 및 실행
npx memory-mcp --vault ~/my-vault --index ~/.memory-index.db

# 사용 가능한 MCP 툴
- search_memory: 하이브리드 검색 (FTS + 링크 그래프)
- create_note: 노트 생성 + 자동 인덱싱
```

### 📊 완성도
- **전체 진행률**: 80% (4.5/6 에픽 완료)
- **핵심 기능**: 100% (검색, 노트 관리, 백링크)
- **고급 기능**: 60% (연상 엔진, 배포 최적화)

### 🔮 다음 개발 우선순위
1. **연상 엔진 고도화**: 세션 문맥 기반 추천
2. **Docker 이미지**: 컨테이너 배포 지원
3. **CI/CD 파이프라인**: 자동화된 릴리즈

